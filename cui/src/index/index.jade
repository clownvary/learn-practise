<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page isELIgnored="false" %>
doctype html

- var opts = htmlWebpackPlugin.options;
- var diff = opts.diff;
- var linkExtraPrefix = opts.linkExtraPrefix;

if diff !== "static"
  <% String appPath = request.getContextPath(); %>

html(lang="en" class="cui-style-hook")

  head
    meta(charset="UTF-8")
    meta(http-equiv="X-UA-Compatible" content="IE=edge")
    meta(name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1")
    title ${public_url_tab_wording}

    if diff !== "static"
      each val, index in htmlWebpackPlugin.files.css
        link(href!="<%=appPath%>" + linkExtraPrefix + val rel="stylesheet")
    script.
        window.__siteBaseName = "/${site_name}";
        window.__reduxInitialState = {
          currentSite: "/${site_name}",
          systemSettings: ${originalConfig},
          configurations: ${configuration}
        };
  body

    #app-root.
      ${content}

    each val, index in htmlWebpackPlugin.files.chunks
      if diff !== "static"
        script(src!="<%=appPath%>" + linkExtraPrefix + val.entry)
      else
        script(src=val.entry)
