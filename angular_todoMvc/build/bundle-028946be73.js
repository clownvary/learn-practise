!function(t){function o(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}var e={};return o.m=t,o.c=e,o.p="",o(0)}([function(t,o,e){var n,r,c;!function(i,l){r=[e(1),e(5),e(6),e(7),e(8)],n=l,c="function"==typeof n?n.apply(o,r):n,!(void 0!==c&&(t.exports=c))}(this,function(t,o,e,n,r){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}var i=(c(t),c(o));c(e),c(n),c(r);angular.module("myapp",["CommonService","uiRoute","myDir"]).controller("main",["$scope","Store",function(t,o){var e=t.todos=o.todos;t.model={};var n=t.model;n.editable=[];var r={NewTodo:1,UpdateTodo:2};t.$watch("todos",function(o,r){t.remainingCount=e.filter(function(t){return t.completed===!1}).length,t.compeletedCount=e.filter(function(t){return t.completed===!0}).length,n.showCheckAll=e.length>=1,t.checkedAll=!t.remainingCount},!0),t.checkAll=function(){var o=t.checkedAll;e.forEach(function(t){t.completed=o})},t.myKeyup=function(o,e){var n=window.event?o.keyCode:o.which;13==n&&(e===r.NewTodo?t.addTodo():e===r.UpdateTodo&&t.saveTodo())},t.addTodo=function(){var t=new i.default((!1),n.newTodo,Date.now(),Date.now());n.newTodo.trim()&&(o.add(t),n.newTodo="")},t.editTodo=function(o,e){n.editable[e]=!0,n.curIndex=e,t.curTodo=o},t.saveTodo=function(){var r=e.indexOf(t.curTodo);t.curTodo.title.trim()?o.update(t.curTodo,r):o.delete(t.curTodo),t.curTodo=null,n.editable[n.curIndex]=!1},t.removeTodo=function(t){o.delete(t)},t.clearTodo=function(){e.filter(function(t){return t.completed===!0}).forEach(function(t){return o.delete(t)})}}])})},function(t,o){},,,,function(t,o,e){var n,r,c;!function(e,i){r=[o],n=i,c="function"==typeof n?n.apply(o,r):n,!(void 0!==c&&(t.exports=c))}(this,function(t){"use strict";function o(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var e=function t(e,n,r,c){o(this,t),this.completed=e,this.title=n,this.creattime=r,this.updatetime=c};t.default=e})},function(t,o,e){var n,r,c;!function(e,i){r=[],n=i,c="function"==typeof n?n.apply(o,r):n,!(void 0!==c&&(t.exports=c))}(this,function(){"use strict";angular.module("CommonService",[]).factory("Store",["$q",function(t){var o="angular-todo",e={},n={};return e.getFromLocalStorage=function(){return JSON.parse(localStorage.getItem(o)||"[]")},e.saveToLocalStorage=function(t){localStorage.setItem(o,JSON.stringify(t))},n.todos=e.getFromLocalStorage(),n.get=function(){var o=t.defer(),r=e.getFromLocalStorage();return angular.copy(r,n.todos),o.resolve(r),o.promise},n.add=function(o){var r=t.defer();return n.todos.push(o),e.saveToLocalStorage(n.todos),r.resolve(n.todos),r.promise},n.delete=function(t){return n.todos.splice(n.todos.indexOf(t),1),e.saveToLocalStorage(n.todos),defer.resolve(n.todos),defer.promise},n.update=function(o,r){var c=t.defer();return n.todos[r]=o,e.saveToLocalStorage(n.todos),c.resolve(n.todos),c.promise},n.test=function(t){return t},n}])})},function(t,o,e){var n,r,c;!function(e,i){r=[],n=i,c="function"==typeof n?n.apply(o,r):n,!(void 0!==c&&(t.exports=c))}(this,function(){"use strict";angular.module("uiRoute",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(t,o){t.state({name:"status",url:"/status/:status",template:"<p></p>"}),o.otherwise("/")}]).run(["$rootScope",function(t){t.$on("$stateChangeSuccess",function(o,e,n,r,c){t.statusFilter="active"===n.status?{completed:!1}:"completed"===n.status?{completed:!0}:""})}])})},function(t,o,e){var n,r,c;!function(e,i){r=[],n=i,c="function"==typeof n?n.apply(o,r):n,!(void 0!==c&&(t.exports=c))}(this,function(){"use strict";angular.module("myDir",[]).directive("todoItem",function(){return{restrict:"E",replace:!0,scope:{id:"@",isChecked:"=",toggle:"&",txt:"=",edit:"=",editTodo:"&",keyUp:"&",removeTodo:"&",blur:"&"},bindToController:!0,controller:["$scope",function(t){this.moveIn=function(){this.showDestroy=!0},this.moveOut=function(){this.showDestroy=!1},this.toggle=function(){this.isChecked=!this.isChecked},this.checkKey=function(t){var o=window.event?t.keyCode:t.which;13===o&&this.keyUp()}}],controllerAs:"ctrl",template:'<div class="todoitem"  ng-mouseenter="ctrl.moveIn();" ng-mouseleave="ctrl.moveOut();"><div class="check-todo"><input type="checkbox" id="{{ctrl.id}}"  ng-model="ctrl.isChecked"><label for="{{ctrl.id}}" class="for-item" ng-click="ctrl.toggle();"></label></div><label ng-show="!ctrl.edit" ng-class={"todo-completed":ctrl.isChecked} ng-dblclick="ctrl.editTodo()" class="label-item">{{ctrl.txt}}</label><input  ng-show="ctrl.edit" ng-blur="ctrl.blur()"  ng-keyup="ctrl.checkKey($event)" type="text" class="edittodo" ng-model="ctrl.txt" ><button class="destroy"  ng-click="ctrl.removeTodo()" ng-show="ctrl.showDestroy" ></button></div>'}})})}]);